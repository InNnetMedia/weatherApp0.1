let menuIn=!0;const hamMenu=document.querySelector(".fa-solid.fa-bars"),currentTemp=document.querySelector(".current-temp"),feelsLikeTemp=document.getElementById("feels-like-temp"),currentCond=document.getElementById("current-cond"),currentWeatherIcon=document.querySelector(".current-weather-icon"),uvIndex=document.getElementById("uv-index-value"),humidity=document.getElementById("humidity-value"),wind=document.getElementById("wind-speed-value"),dew=document.getElementById("dew-point-value"),visibility=document.getElementById("visibility-value"),pressure=document.getElementById("pressure-value"),searchInput=document.getElementById("search-input"),currentLocation=document.querySelectorAll(".selected-location"),btnManageLocations=document.getElementById("btnManage-locations"),u="e37562a56f55459180225057250201",hourlyWeather=document.querySelector(".hourly-weather-container"),locationPin=document.querySelector(".fa-solid.fa-location-pin"),sideMenu=document.querySelector(".side-menu"),moonrise=document.getElementById("moonrise-time"),moonset=document.getElementById("moonset-time"),moonPhase=document.getElementById("moon-phase"),sideMenuIcon=document.getElementById("sm-weather-icon"),country=document.getElementById("country-name"),localTime=document.getElementById("local-time"),longitude=document.getElementById("long"),latitude=document.getElementById("lat"),iconSearch=document.querySelector(".fa-solid.fa-magnifying-glass");sideMenu.style.left=`-${sideMenu.offsetWidth}px`;const getUserLocation=()=>{let e=searchInput.value;return console.log(e),""==e&&(console.log("All fields are required"),e="London"),e},buildRequestUrl=e=>`http://api.weatherapi.com/v1/forecast.json?key=e37562a56f55459180225057250201&q=${e}&days=5`,requestWeather=async e=>{let t=await fetch(e),n=await t.json();setWeatherInfo(n)},setWeatherInfo=e=>{e.error||(currentTemp.textContent=`${Math.floor(e.current.temp_c)}\xb0C`,feelsLikeTemp.textContent=`${Math.floor(e.current.feelslike_c)}\xb0C`,currentCond.textContent=e.current.condition.text,currentWeatherIcon.src=e.current.condition.icon,uvIndex.textContent=e.current.uv,humidity.textContent=`${e.current.humidity}%`,wind.textContent=`${e.current.wind_kph} km/h`,visibility.textContent=`${e.current.vis_km} km`,pressure.textContent=`${e.current.pressure_mb} mb`,dew.textContent=`${e.current.dewpoint_c} \xb0C`,moonrise.textContent=e.forecast.forecastday[0].astro.moonrise,moonset.textContent=e.forecast.forecastday[0].astro.moonset,moonPhase.textContent=e.forecast.forecastday[0].astro.moon_phase,setLocation=getUserLocation(),currentLocation.forEach(e=>{e.textContent=setLocation}),country.textContent=`${e.location.region} ${e.location.country}`,localTime.textContent=e.location.localtime,longitude.textContent=e.location.lon,latitude.textContent=e.location.lat,sideMenuIcon.src=e.current.condition.icon,setForecast(e))},setForecast=e=>{hourlyWeather.innerHTML="",e.forecast.forecastday[0].hour.forEach(e=>{createHourlyWeather(e.time.slice(11),Math.floor(e.temp_c),e.condition.icon)})},processWeatherRequest=async()=>{let e=getUserLocation();console.log(e);let t=buildRequestUrl(e);await requestWeather(t)};processWeatherRequest();const emptyDiv=document.createElement("div"),slideMenu=()=>{menuIn?(emptyDiv.className="emptyDiv",document.body.appendChild(emptyDiv),sideMenu.style.left="0px",menuIn=!1):(document.body.removeChild(emptyDiv),sideMenu.style.left=`-${sideMenu.offsetWidth}px`,menuIn=!0)};emptyDiv.addEventListener("click",()=>{slideMenu()}),searchInput.addEventListener("keydown",e=>{"Enter"==e.key&&(processWeatherRequest(),slideMenu())}),iconSearch.addEventListener("click",()=>{processWeatherRequest(),slideMenu()}),hamMenu.addEventListener("click",slideMenu),locationPin.addEventListener("click",slideMenu),dew.addEventListener("click",slideMenu);const createHourlyWeather=(e,t,n)=>{let o=document.createElement("div"),r=document.createElement("span"),i=document.createElement("span"),a=document.createElement("span"),l=document.createElement("img");n.className="current-hour-icon",o.className="hourly-weather",r.className="current-hour",a.className="current-hour-temp",r.textContent=e,l.src=n,a.textContent=`${t}\xb0C`,o.appendChild(r),o.appendChild(i),i.appendChild(l),o.appendChild(a),hourlyWeather.appendChild(o)};